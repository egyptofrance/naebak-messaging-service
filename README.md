# ๐ท๏ธ ุฎุฏูุฉ ุงูุฑุณุงุฆู ุงููุจุณุทุฉ (naebak-messaging-service)

[![Build Status](https://img.shields.io/badge/build-passing-brightgreen)](https://github.com/egyptofrance/naebak-messaging-service/actions)
[![Coverage](https://img.shields.io/badge/coverage-N/A-lightgrey)](https://github.com/egyptofrance/naebak-messaging-service)
[![Version](https://img.shields.io/badge/version-2.0.0-blue)](https://github.com/egyptofrance/naebak-messaging-service/releases)
[![License](https://img.shields.io/badge/license-MIT-yellow)](LICENSE)

## ๐ **ุชุญุฏูุซ ููู - ุงูุฅุตุฏุงุฑ 2.0.0**

ุชู ุชุจุณูุท ุฎุฏูุฉ ุงูุฑุณุงุฆู ุจุดูู ูุงูู ูุชุตุจุญ ุฃูุซุฑ ุงุณุชูุฑุงุฑุงู ูุณูููุฉ ูู ุงูุตูุงูุฉ. ุชู ุฅุฒุงูุฉ ุงูููุฒุงุช ุงููุนูุฏุฉ ุงูุชู ูุงูุช ุชุณุจุจ ุชุนููุฏุงุช ุบูุฑ ุถุฑูุฑูุฉ.

### โ **ุงูููุฒุงุช ุงููุญุฐููุฉ (ูุงูุช ุชุณุจุจ ุชุนููุฏ):**
- ูุดุงุฑูุฉ ุงููููุงุช ูุงููุณุงุฆุท
- ูุคุดุฑุงุช ุงููุฑุงุกุฉ ("ุชู ุงููุฑุงุกุฉ")
- ูุคุดุฑุงุช ุงููุชุงุจุฉ ("ููุชุจ ุงูุขู...")
- ุงูุชุดููุฑ ุงููุนูุฏ ููุฑุณุงุฆู
- ุงูุจุญุซ ูู ุงูุฑุณุงุฆู
- WebSocket ูุงูุงุชุตุงู ุงูููุฑู
- Redis ููุชุฎุฒูู ุงููุคูุช

### โ **ุงูููุฒุงุช ุงููุชุงุญุฉ (ุจุณูุทุฉ ูููุซููุฉ):**
- ุฅุฑุณุงู ุฑุณุงุฆู ูุตูุฉ ุจุณูุทุฉ
- ุนุฑุถ ุงููุญุงุฏุซุงุช
- ุญุฐู ุงูุฑุณุงุฆู
- ุฅุญุตุงุฆูุงุช ุฃุณุงุณูุฉ

---

## ๐ ุงููุตู

ุฎุฏูุฉ ุฑุณุงุฆู ุจุณูุทุฉ ูููุซููุฉ ุจูู ุงูููุงุทููู ูุงูููุงุจ. ุชุฑูุฒ ุนูู ุงููุธุงุฆู ุงูุฃุณุงุณูุฉ ุจุฏูู ุชุนููุฏุงุช ุชูููุฉ.

---

## โจ ุงูููุฒุงุช ุงูุฑุฆูุณูุฉ

- **ุฑุณุงุฆู ูุตูุฉ ุจุณูุทุฉ**: ุฅุฑุณุงู ูุงุณุชูุจุงู ุงูุฑุณุงุฆู ุงููุตูุฉ ููุท
- **ูุญุงุฏุซุงุช ููุธูุฉ**: ุนุฑุถ ุงููุญุงุฏุซุงุช ุจูู ุงูููุงุทู ูุงููุงุฆุจ
- **ุญุฐู ุงูุฑุณุงุฆู**: ุฅููุงููุฉ ุญุฐู ุงูุฑุณุงุฆู ุงููุฑุณูุฉ
- **ุฅุญุตุงุฆูุงุช**: ุนุฏุฏ ุงููุญุงุฏุซุงุช ูุงูุฑุณุงุฆู

---

## ๐๏ธ ุงูุชูููุงุช ุงููุณุชุฎุฏูุฉ

| ุงูุชูููุฉ | ุงูุฅุตุฏุงุฑ | ุงูุบุฑุถ |
|---------|---------|-------|
| **Flask** | 2.3.2 | ุฅุทุงุฑ ุงูุนูู ุงูุฃุณุงุณู |
| **SQLite** | ูุฏูุฌ | ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงููุญููุฉ |
| **Flask-CORS** | 4.0.0 | ุฏุนู CORS |
| **Flask-JWT-Extended** | 4.5.2 | ุงููุตุงุฏูุฉ |

---

## ๐ ุงูุชุซุจูุช ูุงูุชุดุบูู

### **ุงููุชุทูุจุงุช ุงูุฃุณุงุณูุฉ**

- Python 3.8+
- ูุง ูุญุชุงุฌ ููุงุนุฏ ุจูุงูุงุช ุฎุงุฑุฌูุฉ
- ูุง ูุญุชุงุฌ Redis ุฃู ุฎุฏูุงุช ุฅุถุงููุฉ

### **ุงูุชุซุจูุช ุงููุญูู**

```bash
git clone https://github.com/egyptofrance/naebak-messaging-service.git
cd naebak-messaging-service

# ุชุซุจูุช ุงููุชุทูุจุงุช (3 ููุชุจุงุช ููุท!)
pip install -r requirements.txt

# ุชุดุบูู ุงูุฎุฏูุฉ
python messaging_simple.py
```

ุงูุฎุฏูุฉ ุณุชุนูู ุนูู: `http://localhost:8002`

---

## ๐ ุชูุซูู ุงูู API

### **ุงูู Endpoints ุงููุชุงุญุฉ:**

#### 1. ูุญุต ุญุงูุฉ ุงูุฎุฏูุฉ
```bash
GET /health
```

#### 2. ุฌูุจ ุงููุญุงุฏุซุงุช
```bash
GET /api/conversations?user_type=citizen
```

#### 3. ุฌูุจ ุฑุณุงุฆู ูุญุงุฏุซุฉ ูุนููุฉ
```bash
GET /api/conversations/{conversation_id}/messages?page=1&per_page=50
```

#### 4. ุฅุฑุณุงู ุฑุณุงูุฉ ุฌุฏูุฏุฉ
```bash
POST /api/messages
{
  "recipient_id": "deputy_123",
  "content": "ูุฑุญุจุงุ ูุฏู ุงุณุชูุณุงุฑ",
  "sender_type": "citizen"
}
```

#### 5. ุญุฐู ุฑุณุงูุฉ
```bash
DELETE /api/messages/{message_id}
```

#### 6. ุฅุญุตุงุฆูุงุช ุงููุณุชุฎุฏู
```bash
GET /api/stats?user_type=citizen
```

---

## ๐๏ธ ูุงุนุฏุฉ ุงูุจูุงูุงุช

ุชุณุชุฎุฏู ุงูุฎุฏูุฉ **SQLite** ููุงุนุฏุฉ ุจูุงูุงุช ูุญููุฉ ุจุณูุทุฉ:

### **ุงูุฌุฏุงูู:**

#### `conversations`
- `id`: ูุนุฑู ุงููุญุงุฏุซุฉ
- `citizen_id`: ูุนุฑู ุงูููุงุทู
- `deputy_id`: ูุนุฑู ุงููุงุฆุจ
- `created_at`: ุชุงุฑูุฎ ุงูุฅูุดุงุก
- `updated_at`: ุชุงุฑูุฎ ุขุฎุฑ ุชุญุฏูุซ

#### `messages`
- `id`: ูุนุฑู ุงูุฑุณุงูุฉ
- `conversation_id`: ูุนุฑู ุงููุญุงุฏุซุฉ
- `sender_id`: ูุนุฑู ุงููุฑุณู
- `sender_type`: ููุน ุงููุฑุณู (citizen/deputy)
- `content`: ูุญุชูู ุงูุฑุณุงูุฉ (ูุต ููุท)
- `created_at`: ุชุงุฑูุฎ ุงูุฅุฑุณุงู
- `deleted`: ุญุงูุฉ ุงูุญุฐู

---

## ๐ ุงูุฃูุงู

- **JWT**: ูุตุงุฏูุฉ ุขููุฉ ูููุณุชุฎุฏููู
- **HTTPS**: ุชุดููุฑ ุงูููู (ูู ุงูุฅูุชุงุฌ)
- **ุงูุชุญูู ูู ุงูุตูุงุญูุงุช**: ูู ูุณุชุฎุฏู ูุฑู ุฑุณุงุฆูู ููุท
- **Soft Delete**: ุงูุฑุณุงุฆู ุงููุญุฐููุฉ ูุง ุชููุญู ููุงุฆูุงู

---

## ๐ ููุงุฑูุฉ ุงูุฅุตุฏุงุฑุงุช

| ุงูููุฒุฉ | ุงูุฅุตุฏุงุฑ 1.0 (ุงููุนูุฏ) | ุงูุฅุตุฏุงุฑ 2.0 (ุงููุจุณุท) |
|--------|-------------------|-------------------|
| **ุงูุชุจุนูุงุช** | 9+ ููุชุจุงุช | 3 ููุชุจุงุช |
| **ูุงุนุฏุฉ ุงูุจูุงูุงุช** | PostgreSQL + Redis | SQLite |
| **ุญุฌู ุงูููุฏ** | 1000+ ุณุทุฑ | 400 ุณุทุฑ |
| **ุงููููุงุช** | 10+ ูููุงุช | ููู ูุงุญุฏ |
| **ูุดุงุฑูุฉ ุงููููุงุช** | โ | โ |
| **ูุคุดุฑุงุช ุงููุฑุงุกุฉ** | โ | โ |
| **WebSocket** | โ | โ |
| **ุงูุจุณุงุทุฉ** | โ | โ |
| **ุงูุงุณุชูุฑุงุฑ** | ูุชูุณุท | ุนุงูู |

---

## ๐งช ุงูุงุฎุชุจุงุฑุงุช

```bash
# ุงุฎุชุจุงุฑ ุณุฑูุน ููุฎุฏูุฉ
curl http://localhost:8002/health

# ุงููุชูุฌุฉ ุงููุชููุนุฉ:
{
  "status": "healthy",
  "service": "simple-messaging",
  "version": "2.0.0",
  "features": {
    "file_upload": false,
    "read_receipts": false,
    "encryption": false,
    "search": false,
    "websocket": false,
    "simple_text_messaging": true
  }
}
```

---

## ๐ฏ ููุณูุฉ ุงูุชุจุณูุท

ูุฐุง ุงูุฅุตุฏุงุฑ ูุชุจุน ูุจุฏุฃ **"ุงูุจุณุงุทุฉ ุฃููุงู"**:

- **80% ูู ุงููุงุฆุฏุฉ ุจู 20% ูู ุงูุชุนููุฏ**
- **ุณูููุฉ ุงูุตูุงูุฉ ุฃูู ูู ุงูููุฒุงุช ุงููุชูุฏูุฉ**
- **ุงูุงุณุชูุฑุงุฑ ุฃููููุฉ ุนูู ุงูุงุจุชูุงุฑ**
- **ููุฏ ูุงุถุญ ุฃูุถู ูู ููุฏ ุฐูู**

---

## ๐ค ุงููุณุงููุฉ

ูุฑุฌู ูุฑุงุฌุนุฉ [ุฏููู ุงููุณุงููุฉ](CONTRIBUTING.md) ู [ูุนุงููุฑ ุงูุชูุซูู ุงูููุญุฏุฉ](../../naebak-almakhzan/DOCUMENTATION_STANDARDS.md).

---

## ๐ ุงูุชุฑุฎูุต

ูุฐุง ุงููุดุฑูุน ูุฑุฎุต ุชุญุช [ุฑุฎุตุฉ MIT](LICENSE).

---

## ๐ ุงูุฏุนู

ููุฃุณุฆูุฉ ูุงูุฏุนู ุงููููุ ูุฑุฌู ูุชุญ [issue ุฌุฏูุฏ](https://github.com/egyptofrance/naebak-messaging-service/issues).
